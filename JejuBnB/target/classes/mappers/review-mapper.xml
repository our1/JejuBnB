<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="reviewMapper">
<resultMap type="Review" id="resultReview">
		<id property="reply_no" column="reply_no" />
		<result property="clean_score" column="clean_score" />	
		<result property="value_score" column="value_score" />	
		<result property="service_score" column="service_score" />	
		<result property="review_content" column="review_content" />
		<result property="review_level" column="review_level" />
		<result property="review_ref" column="review_ref" />
		<result property="review_seq" column="review_seq" />
		<result property="room_no" column="room_no" />
		<result property="user_id" column="user_id" />
</resultMap>

<resultMap type="Review" id="resultList">
		<id property="reply_no" column="reply_no" />
		<result property="clean_score" column="clean_score" />	
		<result property="value_score" column="value_score" />	
		<result property="service_score" column="service_score" />	
		<result property="review_content" column="review_content" />
		<result property="review_level" column="review_level" />
		<result property="review_ref" column="review_ref" />
		<result property="review_seq" column="review_seq" />
		<result property="room_no" column="room_no" />
		<result property="user_id" column="user_id" />
</resultMap>

<select id="selectReply" parameterType="com.jeju.JejuBnB.review.model.vo.Review" resultMap="resultList">
	select * from review where reply_no = #{ reply_no }
</select>

<insert id="insertReview" parameterType="Review">
	insert into review 
	values((select max(reply_no) from review) + 1, #{clean_score}, #{value_score}, #{service_score }, #{review_content}, #{review_level}, #{review_ref}, #{review_seq},
			 #{room_no}, #{user_id})
</insert>	

<update id="updateReview" parameterType="Review">
	update review set clean_score = #{clean_score}, value_score = #{value_score}, service_score = #{service_score},
					  review_content = #{review_content}
</update>

<delete id="deleteReview" parameterType="_int">
	delete from review where reply_no = #{ reply_no }
</delete>

</mapper>